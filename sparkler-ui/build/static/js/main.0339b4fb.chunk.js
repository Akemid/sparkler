(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,n){e.exports=n(239)},148:function(e,t,n){},239:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(19),c=n(20),o=n(42),i=n(71),u=n(11),s=n(12),m=n(15),d=n(13),h=n(14),p=(n(148),n(47)),b=n(7),E=n(16),O=n(131),f=n(240),j=n(241),v=n(135),C=n(33),y=n(4),g=n(130),_=n.n(g);n(161);_.a.config();var S=n(44),k=n.n(S),w=function(){return function(e){k.a.get("//explorer-api/classify/listmodels").then(function(t){t={type:"MODEL_LIST",payload:t.data},e(t)})}},R=function(){return{type:"FETCH_NEW_TIME",payload:(new Date).toString()}},T=function(e){return{type:"SEARCH_FIRED",payload:e}},N={"page1-ann":0,"page2-ann":0,"page3-ann":0,"page4-ann":0,"page5-ann":0,"page6-ann":0,"page7-ann":0,"page8-ann":0,"page9-ann":0,"page10-ann":0,"page11-ann":0,"page12-ann":0},M=function(e){function t(e,n){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e,n))).state={},a.state.intent=y.INTENT_PRIMARY,a.state.searchterm="",a.handleChange=a.handleChange.bind(Object(E.a)(Object(E.a)(a))),a.generateUpdateModel=a.generateUpdateModel.bind(Object(E.a)(Object(E.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.model_stats!==this.props.model_stats&&alert("Model Updated")}},{key:"generateUpdateModel",value:function(){this.props.updateModel(this.props.current_model,this.props.annotations)}},{key:"handleChange",value:function(e){this.setState({searchterm:e.target.value})}},{key:"handleSearch",value:function(e){this.props.current_model?(this.props.searchTriggered(),this.props.searchWebsites(this.props.current_model,this.state.searchterm)):alert("Please Select a Model")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(O.b,null,"Generate a Model"),r.a.createElement(f.a,{id:"searchform",contentClassName:"generatemodel",helperText:"Search for websites with these terms...",intent:this.state.intent,label:"Search terms",labelFor:"text-input"},r.a.createElement(j.a,{id:"searchterms",type:"search",value:this.state.searchterm,onChange:this.handleChange,leftIcon:"search",placeholder:"Enter terms here",intent:this.state.intent}),r.a.createElement(v.b,{disabled:!this.props.current_model,onClick:function(){return e.handleSearch()}},"Go!")),r.a.createElement("div",null,r.a.createElement(O.c,null,"Minimum 10 Each"),r.a.createElement("table",{style:{textAlign:"center"}},r.a.createElement("tr",null,r.a.createElement("td",null,"5"),r.a.createElement("td",null,"4"),r.a.createElement("td",null,"3")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:"btn-circle btn-padding green"},r.a.createElement(C.a,{icon:"heart",iconSize:C.a.SIZE_LARGE}))),r.a.createElement("td",null,r.a.createElement("button",{className:"btn-circle btn-padding amber"},r.a.createElement(C.a,{icon:"tick",iconSize:C.a.SIZE_LARGE}))),r.a.createElement("td",null," ",r.a.createElement("button",{className:"btn-circle btn-padding red",onClick:this.props.updateTime},r.a.createElement(C.a,{icon:"minus",iconSize:C.a.SIZE_LARGE})))))),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(v.b,{onClick:this.generateUpdateModel,disabled:!this.props.current_model,icon:"export"},"Update Model"))))}}]),t}(a.Component),L=Object(c.b)(function(e){return{current_model:e.modelreducer.current_model,annotations:e.modelreducer.updated_relevancy,model_stats:e.modelreducer.model_stats}},function(e){return{updateTime:function(){return e(R())},searchWebsites:function(t,n){return e((a=t,r=n,function(e){k.a.get("//search/"+a+"/"+r).then(function(t){var n=t.data;e(t={type:"SEARCH_RESULTS",payload:n})}).then(function(t){e(T(!1))}).catch(function(e){throw e})}));var a,r},searchTriggered:function(){return e(T(!0))},updateModel:function(t,n){return e((a=t,r=n,function(e){k.a.post("//explorer-api/classify/update/"+a,r).then(function(t){t={type:"MODEL_STATS",payload:t.data},e(t)})}));var a,r}}})(M),x=n(242),A=n(73),D=n(243),I=n(43),U=n(246),G=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleClose=function(){return n.setState({isOpen:!1})},n.handleOpen=function(){return n.setState({isOpen:!0})},n.state={value:""},n.handleChange=n.handleChange.bind(Object(E.a)(Object(E.a)(n))),n.handleOkay=n.handleOkay.bind(Object(E.a)(Object(E.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){this.props.seed_urls!==e.seed_urls&&this.handleClose()}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleOkay",value:function(){this.props.saveSeedURLs(this.props.current_model,this.state.value)}},{key:"render",value:function(){return r.a.createElement(x.a,Object.assign({icon:"search-text",onClose:this.handleClose,title:"Seed URLs"},this.state),r.a.createElement("div",{className:A.a.DIALOG_BODY,style:{minHeight:"200px"}},r.a.createElement(D.a,{style:{minHeight:"200px"},growVertically:!0,large:!0,intent:I.a.PRIMARY,onChange:this.handleChange,value:this.state.value,fill:!0})),r.a.createElement("div",{className:A.a.DIALOG_FOOTER},r.a.createElement("div",{className:A.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(U.a,{content:"This button is hooked up to close the dialog."},r.a.createElement(v.b,{onClick:this.handleClose},"Cancel")),r.a.createElement(v.b,{intent:I.a.PRIMARY,onClick:this.handleOkay},"Save"))))}}]),t}(a.Component),F=Object(c.b)(function(e){return{current_model:e.modelreducer.current_model,seed_urls:e.modelreducer.seed_urls}},function(e){return{saveSeedURLs:function(t,n){return e((a=t,r=n,function(e){k.a.post("//explorer-api/cmd/seed/upload/"+a,r).then(function(t){e({type:"UPDATE_SEED_URLS",payload:r})}).catch(function(e){throw e})}));var a,r}}},null,{forwardRef:!0})(G),H=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleOpen=function(){return n.modalElement.current.handleOpen()},n.state={open:!1},n.modalElement=r.a.createRef(),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.b,null,"Create Seed File"),r.a.createElement(v.a,{disabled:!this.props.current_model,icon:"import",onClick:this.handleOpen,text:"Paste Seed URLs"}),r.a.createElement(F,{ref:this.modalElement}))}}]),t}(a.Component),P=Object(c.b)(function(e){return{current_model:e.modelreducer.current_model}})(H),W=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(){this.props.startCrawl(this.props.current_model)},n.handleClick=n.handleClick.bind(Object(E.a)(Object(E.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.b,null,"Start the Crawl"),r.a.createElement(v.b,{disabled:!this.props.current_model,icon:"time",text:"Start Crawler",onClick:this.handleClick}))}}]),t}(a.Component),Y=Object(c.b)(function(e){return{current_model:e.modelreducer.current_model}},function(e){return{startCrawl:function(t){return e(function(e){return function(t){k.a.post("//explorer-api/cmd/crawler/crawl/"+e).then(function(e){})}}(t))}}})(W),K=n(245),B=n(244),z=n(38),J=n(70),V=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).updaterelevancy=function(e){this.props.setRelevancy(this.props.iframe,e)},n.state={title:"",url:"",skeleton:!0},n.updaterelevancy=n.updaterelevancy.bind(Object(E.a)(Object(E.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(B.a,{style:{height:"370px"},interactive:!0,elevation:z.a.TWO},r.a.createElement(b.Container,{fluid:!0},r.a.createElement(b.Row,null,r.a.createElement(b.Col,{sm:12},r.a.createElement(O.b,{className:this.props.skeleton?A.a.SKELETON:""},"Title: ",this.state.title),r.a.createElement(O.b,{className:this.props.skeleton?A.a.SKELETON:""},"URL: ",this.props.url))),r.a.createElement(b.Row,{className:this.props.skeleton?A.a.SKELETON:"",style:{marginTop:"10px",height:"220px"}},r.a.createElement(b.Col,{sm:12},r.a.createElement(J.a,{scrolling:"true",url:this.props.url,width:"100%",height:"200px"}))),r.a.createElement("br",null),r.a.createElement(b.Row,null,r.a.createElement(b.Col,{sm:12},r.a.createElement(v.b,{onClick:function(){return e.updaterelevancy(2)},className:this.props.skeleton?A.a.SKELETON:""},"Highly Relevant"),r.a.createElement(v.b,{onClick:function(){return e.updaterelevancy(1)},className:this.props.skeleton?A.a.SKELETON:""},"Relevant"),r.a.createElement(v.b,{onClick:function(){return e.updaterelevancy(0)},className:this.props.skeleton?A.a.SKELETON:""},"Not Relevant")))))}}]),t}(a.Component),Z=Object(c.b)(function(e){return{skeleton:e.searchreducer.running}},function(e){return{setRelevancy:function(t,n){return e((a=t,r=n,function(e){N[a]=r,console.log(N),e({type:"UPDATED_RELEVANCY",payload:N})}));var a,r}}})(V),q=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render_websites",value:function(){for(var e=[],n=t.listToMatrix(this.props.websites,3),a=0;a<n.length;a++)e.push(r.a.createElement(b.Row,null,r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,{iframe:"page"+n[a][1].pos+"-ann",url:n[a][1].obj.url,title:n[a][1].obj.title})),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,{iframe:"page"+n[a][2].pos+"-ann",url:n[a][2].obj.url,title:n[a][2].obj.title})),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,{iframe:"page"+n[a][3].pos+"-ann",url:n[a][3].obj.url,title:n[a][3].obj.title}))));return e}},{key:"render",value:function(){return this.props.running?t.render_nowebsites():void 0===this.props.websites?r.a.createElement("div",null):this.render_websites()}}],[{key:"render_nowebsites",value:function(){return r.a.createElement(b.Container,null,r.a.createElement(b.Row,null,r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null)),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null)),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null))),r.a.createElement("br",null),r.a.createElement(b.Row,null,r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null)),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null)),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null))),r.a.createElement("br",null),r.a.createElement(b.Row,null,r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null)),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null)),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null))),r.a.createElement("br",null),r.a.createElement(b.Row,null,r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null)),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null)),r.a.createElement(b.Col,{sm:4},r.a.createElement(Z,null))))}},{key:"listToMatrix",value:function(e,t){var n,a,r=[];for(n=0,a=-1;n<e.length;n++)n%t===0&&(r[++a]=[{pos:n+1,obj:{url:"",title:""}}]),r[a].push({pos:n+1,obj:e[n]});return r}}]),t}(a.Component),Q=Object(c.b)(function(e){return{websites:e.searchreducer.websites,running:e.searchreducer.running}})(q),X=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(b.Container,{fluid:!0},r.a.createElement(b.Row,{style:{marginTop:"10px"}},r.a.createElement(b.Col,{sm:3},r.a.createElement(L,null),r.a.createElement(K.a,null),r.a.createElement(P,null),r.a.createElement(K.a,null),r.a.createElement(Y,null)),r.a.createElement(b.Col,{sm:9},r.a.createElement(Q,null))))}}]),t}(a.Component),$=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(J.a,{url:"/banana",width:"100%",height:"100%"}))}}]),t}(a.Component),ee=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(b.Container,{fluid:!0},r.a.createElement(b.Row,{style:{marginTop:"10px"}},r.a.createElement(b.Col,{sm:12},r.a.createElement($,null))))}}]),t}(a.Component),te=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("main",null,r.a.createElement(i.a,{basename:"/explorer"},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:X}),r.a.createElement(p.a,{exact:!0,path:"/analytics",component:ee})))))}}]),t}(a.Component),ne=n(247),ae=n(86),re=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleSelect=function(e){this.props.enableModel(e)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchAllModels()}},{key:"render",value:function(){var e=this;return this.props.models?r.a.createElement(B.a,null,this.props.models.map(function(t,n){return r.a.createElement("li",{key:n},r.a.createElement("button",{onClick:function(){return e.handleSelect(t.name)}},t.name))})):r.a.createElement(B.a,null,"No Models Available Yet")}}]),t}(a.Component),le=Object(c.b)(function(e){return{models:e.modelreducer.models}},function(e){return{fetchAllModels:function(){return e(w())},enableModel:function(t){return e(function(e){return function(t){try{var n=JSON.stringify({current_model:e});localStorage.setItem("state",n)}catch(a){}t({type:"ENABLE_MODEL",payload:e})}}(t))}}})(re),ce=n(82),oe=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){this.props.createNewModel(this.state.model)},n.handleChange=function(e){this.setState({model:e.target.value})},n.state={},n.state.intent=y.INTENT_PRIMARY,n.state.model="",n.handleChange=n.handleChange.bind(Object(E.a)(Object(E.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(Object(E.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(B.a,null,r.a.createElement(ce.FormGroup,{intent:this.state.intent,label:"Model Name",labelFor:"text-input"},r.a.createElement(j.a,{type:"text",id:"text-input",value:this.state.model,onChange:this.handleChange,leftIcon:"new-text-box",placeholder:"Enter your model name",intent:this.state.intent}),r.a.createElement(v.b,{style:{marginTop:"10px"},onClick:function(){return e.handleSubmit()}},"Create Model")))}}]),t}(a.Component),ie=Object(c.b)(null,function(e){return{createNewModel:function(t){return e((n=t,function(e){k.a.get("//explorer-api/classify/createnew/"+n).then(function(t){e({type:"NEW_MODEL",payload:n})})}));var n}}})(oe),ue=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleClose=function(){return n.setState({isOpen:!1})},n.handleOpen=function(){return n.setState({isOpen:!0})},n.state={value:""},n.handleChange=n.handleChange.bind(Object(E.a)(Object(E.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props;e.current_model!==t.current_model&&this.handleClose()}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement(x.a,Object.assign({icon:"search-text",onClose:this.handleClose,title:"Model Administration"},this.state),r.a.createElement("div",{className:A.a.DIALOG_BODY,style:{minHeight:"200px"}},r.a.createElement(ne.a,{id:"modeltabs"},r.a.createElement(ae.a,{id:"newmodel",title:"New Model",panel:r.a.createElement(ie,null)}),r.a.createElement(ae.a,{id:"existingmodels",title:"Existing Models",panel:r.a.createElement(le,null)}))),r.a.createElement("div",{className:A.a.DIALOG_FOOTER},r.a.createElement("div",{className:A.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{onClick:this.handleClose},"Close"))))}}]),t}(a.Component),se=Object(c.b)(function(e){return{current_model:e.modelreducer.current_model}},null,null,{forwardRef:!0})(ue),me=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handle_models=function(){return n.modalElement.current.handleOpen()},n.modalElement=r.a.createRef(),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"bp3-navbar bp3-dark"},r.a.createElement("div",{style:{margin:"0 auto",width:"600px"}},r.a.createElement("div",{className:"bp3-navbar-group bp3-align-left"},r.a.createElement("div",{className:"bp3-navbar-heading"},"Domain Discovery - Seed Generation")),r.a.createElement("div",{className:"bp3-navbar-group bp3-align-right"},r.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-home"},"Explorer"),r.a.createElement("button",{className:"bp3-button bp3-minimal bp3-icon-cog",onClick:this.handle_models},"Models"),r.a.createElement(se,{ref:this.modalElement}))))}}]),t}(a.Component),de=Object(c.b)(function(e){return{currentTime:e.timereducer.currentTime}},function(e){return{updateTime:function(){return e(R())}}})(me),he=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(de,null),r.a.createElement(te,null))}}]),t}(a.Component),pe=n(134),be=n(31),Ee={currentTime:(new Date).toString()},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEW_TIME":return Object(be.a)({},e,{currentTime:t.payload});default:return e}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_RESULTS":return Object(be.a)({},e,{websites:t.payload});case"SEARCH_FIRED":return Object(be.a)({},e,{running:t.payload});default:return e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_MODEL":return Object(be.a)({},e,{name:t.payload});case"MODEL_LIST":return Object(be.a)({},e,{models:t.payload});case"ENABLE_MODEL":return Object(be.a)({},e,{current_model:t.payload});case"UPDATED_RELEVANCY":return Object(be.a)({},e,{updated_relevancy:t.payload});case"UPDATE_SEED_URLS":return Object(be.a)({},e,{seed_urls:t.payload});case"MODEL_STATS":return Object(be.a)({},e,{model_stats:t.payload});case"CRAWL_STARTED":return Object(be.a)({},e,{crawl:t.payload});default:return e}},ve=Object(o.c)({timereducer:Oe,searchreducer:fe,modelreducer:je}),Ce=function(e){var t=Object(o.d)(Object(o.a)(pe.a));return Object(o.e)(ve,e,t)}({});Ce.dispatch(w()),Object(l.render)(r.a.createElement(c.a,{store:Ce},r.a.createElement(i.a,null,r.a.createElement(he,null))),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.0339b4fb.chunk.js.map